<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./styles/styles.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
      crossorigin="anonymous"
    ></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gluten&display=swap"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      href="./assets/fast-food.png"
      type="image/x-icon"
    />
    <title>Comida Ya! - Dashboard</title>
  </head>
  <body class="container-fluid d-flex flex-column align-items-center">
    <nav
      class="
        navbar navbar-expand-lg navbar-light
        w-100
        h-25
        d-flex
        justify-content-end
      "
    >
      <div class="container-fluid">
        <div class="d-flex align-items-center">
          <img src="./assets/fast-food.png" alt="logout" id="logo" />
          <h1 class="m-0 px-3 d-flex align-items-center">
            Comida Ya!- Dashboard
          </h1>
        </div>
        <div>
          <button type="button" class="btn btn-primary mx-2" id="createProduct">
            Crear Producto
          </button>
          <button class="btn btn-outline-secondary" type="button" id="logout">
            Cerrar sesión
          </button>
        </div>
      </div>
    </nav>
    <aside
      class="
        d-flex
        flex-column
        justify-content-center
        align-items-center
        hidden
        my-4
      "
    >
      <h2>Nuevo Producto</h2>
      <form class="d-flex flex-column col-12 mt-4">
        <div class="mb-3">
          <label for="inputProductName" class="col-sm-2 col-form-label"
            >Nombre</label
          >
          <div class="col">
            <input type="text" class="form-control" id="inputProductName" />
          </div>
        </div>
        <div class="mb-3">
          <label for="inputImage" class="col-form-label">URL de imagen</label>
          <div class="col">
            <input type="text" class="form-control" id="inputImage" />
          </div>
        </div>
        <div class="mb-3">
          <label for="inputPrice" class="col-sm-2 col-form-label">Precio</label>
          <div class="col">
            <input type="number" class="form-control" id="inputPrice" />
          </div>
        </div>
        <div class="w-100 d-flex justify-content-between">
          <button type="button" class="btn btn-primary mb-3" id="saveProduct">
            Guardar
          </button>
          <button
            type="button"
            class="btn btn-secondary mb-3"
            id="cancelSaveProduct"
          >
            Cancelar
          </button>
        </div>
      </form>
    </aside>
    <main
      class="d-flex flex-column justify-content-center align-items-center w-100"
    >
      <div class="accordion w-100" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button
              class="accordion-button"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseOne"
              aria-expanded="true"
              aria-controls="collapseOne"
            >
              Pedidos
            </button>
          </h2>
          <div
            id="collapseOne"
            class="accordion-collapse collapse show"
            aria-labelledby="headingOne"
            data-bs-parent="#accordionExample"
          >
            <div class="accordion-body">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Estado</th>
                    <th scope="col">Monto Total</th>
                    <th scope="col">Descripción</th>
                    <th scope="col">Forma de Pago</th>
                    <th scope="col"></th>
                  </tr>
                </thead>
                <tbody id="ordersDetail"></tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseTwo"
              aria-expanded="false"
              aria-controls="collapseTwo"
            >
              Productos
            </button>
          </h2>
          <div
            id="collapseTwo"
            class="accordion-collapse collapse"
            aria-labelledby="headingTwo"
            data-bs-parent="#accordionExample"
          >
            <div class="accordion-body">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Foto</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Precio</th>
                    <th scope="col"></th>
                  </tr>
                </thead>
                <tbody id="productsDetail"></tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingThree">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseThree"
              aria-expanded="false"
              aria-controls="collapseThree"
            >
              Usuarios
            </button>
          </h2>
          <div
            id="collapseThree"
            class="accordion-collapse collapse"
            aria-labelledby="headingThree"
            data-bs-parent="#accordionExample"
          >
            <div class="accordion-body">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellido</th>
                    <th scope="col">Email</th>
                    <th scope="col">Rol</th>
                  </tr>
                </thead>
                <tbody id="usersDetail"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal -->
      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">
                Cambiar Estado. Orden Nº <span id="orderNumber"></span>
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <select class="form-select" id="orderStatus">
                <option selected>Selecciona el estado</option>
                <option value="new">Nueva</option>
                <option value="confirmed">Confirmada</option>
                <option value="preparing">En preparación</option>
                <option value="delivering">En camino</option>
                <option value="delivered">Entregada</option>
              </select>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>
              <button
                type="button"
                class="btn btn-primary"
                id="updateStatusBtn"
              >
                Guardar Cambios
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script src="./scripts/constants.js"></script>
    <script src="./scripts/utils.js"></script>
    <script src="./scripts/service.js"></script>
    <script src="./scripts/index.js" type="module"></script>
  </body>
</html>
